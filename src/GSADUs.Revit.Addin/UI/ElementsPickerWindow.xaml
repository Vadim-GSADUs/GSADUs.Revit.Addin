<Window x:Class="GSADUs.Revit.Addin.UI.ElementsPickerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Elements" SizeToContent="WidthAndHeight" MinWidth="820"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResize">
  <Grid Margin="12">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Controls row -->
    <DockPanel Grid.Row="0" LastChildFill="False" Margin="0,0,0,8">
      <StackPanel Orientation="Horizontal">
        <TextBlock Text="Scope:" VerticalAlignment="Center" Margin="0,0,6,0" Width="50"/>
        <ComboBox x:Name="ScopeCombo" Width="220" SelectionChanged="ScopeCombo_SelectionChanged">
          <ComboBoxItem Content="Staging Area"/>
          <ComboBoxItem Content="Current Set"/>
        </ComboBox>

        <TextBlock Text="  List Cap:" VerticalAlignment="Center" Margin="12,0,6,0"/>
        <TextBox x:Name="CapBox" Width="70" Text="200" TextChanged="CapBox_TextChanged"/>

        <TextBlock Text="  Filter:" VerticalAlignment="Center" Margin="12,0,6,0"/>
        <TextBox x:Name="FilterBox" Width="220" TextChanged="FilterBox_TextChanged"/>

        <Button x:Name="SelectAllBtn" Content="Select All" Margin="16,0,0,0" Click="SelectAll_Click"/>
        <Button x:Name="SelectNoneBtn" Content="Select None" Margin="8,0,0,0" Click="SelectNone_Click"/>
      </StackPanel>
    </DockPanel>

    <!-- Grid view -->
    <Border Grid.Row="1" BorderThickness="1" BorderBrush="LightGray">
      <ListView x:Name="ItemsList" MinWidth="780"
                ScrollViewer.VerticalScrollBarVisibility="Auto"
                ScrollViewer.HorizontalScrollBarVisibility="Auto"
                VirtualizingPanel.IsVirtualizing="True"
                VirtualizingPanel.VirtualizationMode="Recycling">
        <ListView.View>
          <GridView AllowsColumnReorder="true">
            <GridViewColumn Width="80" Header="Pick">
              <GridViewColumn.CellTemplate>
                <DataTemplate>
                  <CheckBox IsChecked="{Binding IsSelected, Mode=TwoWay}"/>
                </DataTemplate>
              </GridViewColumn.CellTemplate>
            </GridViewColumn>
            <GridViewColumn Width="90" Header="Element Id" DisplayMemberBinding="{Binding IdText}"/>
            <GridViewColumn Width="180" Header="Type Name" DisplayMemberBinding="{Binding TypeName}"/>
            <GridViewColumn Width="180" Header="Family Name" DisplayMemberBinding="{Binding FamilyName}"/>
            <GridViewColumn Width="160" Header="Category" DisplayMemberBinding="{Binding Category}"/>
            <GridViewColumn Width="120" Header="Category Type" DisplayMemberBinding="{Binding CategoryType}"/>
            <GridViewColumn Width="120" Header="Discipline" DisplayMemberBinding="{Binding Discipline}"/>
          </GridView>
        </ListView.View>
      </ListView>
    </Border>

    <!-- Buttons -->
    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
      <Button Width="90" Margin="0,0,8,0" Content="OK" IsDefault="True" Click="OK_Click"/>
      <Button Width="90" Content="Cancel" IsCancel="True"/>
    </StackPanel>
  </Grid>
</Window>
